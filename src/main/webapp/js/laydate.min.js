!function(e){var t="",a="default",n="YYYY-MM-DD",s="1900-01-01 00:00:00",i="2099-12-31 23:59:59",o=!1,l={},d=document,r="createElement",c="getElementsByTagName",m=["laydate_box","laydate_void","laydate_click","LayDateSkin","skins/","/laydate.css"];e.laydate=function(t){t=t||{};try{m.event=e.event?e.event:laydate.caller.arguments[0]}catch(e){}return l.run(t),laydate},laydate.v="1.1",l.getPath=function(){var e=document.scripts,a=e[e.length-1].src;return t||a.substring(0,a.lastIndexOf("/")+1)}(),l.use=function(e,t){var a=d[r]("link");a.type="text/css",a.rel="stylesheet",a.href=l.getPath+e+m[5],t&&(a.id=t),d[c]("head")[0].appendChild(a),a=null},l.trim=function(e){return(e=e||"").replace(/^\s|\s$/g,"").replace(/\s+/g," ")},l.digit=function(e){return 10>e?"0"+(0|e):e},l.stopmp=function(t){return(t=t||e.event).stopPropagation?t.stopPropagation():t.cancelBubble=!0,this},l.each=function(e,t){for(var a=0,n=e.length;n>a&&!1!==t(a,e[a]);a++);},l.hasClass=function(e,t){return e=e||{},new RegExp("\\b"+t+"\\b").test(e.className)},l.addClass=function(e,t){return e=e||{},l.hasClass(e,t)||(e.className+=" "+t),e.className=l.trim(e.className),this},l.removeClass=function(e,t){if(e=e||{},l.hasClass(e,t)){var a=new RegExp("\\b"+t+"\\b");e.className=e.className.replace(a,"")}return this},l.removeCssAttr=function(e,t){var a=e.style;a.removeProperty?a.removeProperty(t):a.removeAttribute(t)},l.shde=function(e,t){e.style.display=t?"none":"block"},l.query=function(e){var t,a,n,s,i;return e=l.trim(e).split(" "),(a=d.getElementById(e[0].substr(1)))?e[1]?/^\./.test(e[1])?(s=e[1].substr(1),i=new RegExp("\\b"+s+"\\b"),t=[],n=d.getElementsByClassName?a.getElementsByClassName(s):a[c]("*"),l.each(n,function(e,a){i.test(a.className)&&t.push(a)}),t[0]?t:""):(t=a[c](e[1]))[0]?a[c](e[1]):"":a:void 0},l.on=function(t,a,n){return t.attachEvent?t.attachEvent("on"+a,function(){n.call(t,e.even)}):t.addEventListener(a,n,!1),l},l.stopMosup=function(e,t){"mouseup"!==e&&l.on(t,"mouseup",function(e){l.stopmp(e)})},l.run=function(e){var t,a,n,s=l.query,i=m.event;try{n=i.target||i.srcElement||{}}catch(e){n={}}if(t=e.elem?s(e.elem):n,i&&n.tagName){if(!t||t===l.elem)return;l.stopMosup(i.type,t),l.stopmp(i),l.view(t,e),l.reshow()}else a=e.event||"click",l.each((0|t.length)>0?t:[t],function(t,n){l.stopMosup(a,n),l.on(n,a,function(t){l.stopmp(t),n!==l.elem&&(l.view(n,e),l.reshow())})})},l.scroll=function(e){return e=e?"scrollLeft":"scrollTop",d.body[e]|d.documentElement[e]},l.winarea=function(e){return document.documentElement[e?"clientWidth":"clientHeight"]},l.isleap=function(e){return 0==e%4&&0!=e%100||0==e%400},l.checkVoid=function(e,t,a){var n=[];return e|=0,t|=0,a|=0,e<l.mins[0]?n=["y"]:e>l.maxs[0]?n=["y",1]:e>=l.mins[0]&&e<=l.maxs[0]&&(e==l.mins[0]&&(t<l.mins[1]?n=["m"]:t==l.mins[1]&&a<l.mins[2]&&(n=["d"])),e==l.maxs[0]&&(t>l.maxs[1]?n=["m",1]:t==l.maxs[1]&&a>l.maxs[2]&&(n=["d",1]))),n},l.timeVoid=function(e,t){if(l.ymd[1]+1==l.mins[1]&&l.ymd[2]==l.mins[2]){if(0===t&&e<l.mins[3])return 1;if(1===t&&e<l.mins[4])return 1;if(2===t&&e<l.mins[5])return 1}else if(l.ymd[1]+1==l.maxs[1]&&l.ymd[2]==l.maxs[2]){if(0===t&&e>l.maxs[3])return 1;if(1===t&&e>l.maxs[4])return 1;if(2===t&&e>l.maxs[5])return 1}return e>(t?59:23)?1:void 0},l.check=function(){var e=l.options.format.replace(/YYYY|MM|DD|hh|mm|ss/g,"\\d+\\").replace(/\\$/g,""),t=new RegExp(e),a=l.elem[m.elemv],n=a.match(/\d+/g)||[],s=l.checkVoid(n[0],n[1],n[2]);if(""!==a.replace(/\s/g,"")){if(!t.test(a))return l.elem[m.elemv]="",l.msg("日期不符合格式，请重新选择。"),1;if(s[0])return l.elem[m.elemv]="",l.msg("日期不在有效期内，请重新选择。"),1;s.value=l.elem[m.elemv].match(t).join(),(n=s.value.match(/\d+/g))[1]<1?(n[1]=1,s.auto=1):n[1]>12?(n[1]=12,s.auto=1):n[1].length<2&&(s.auto=1),n[2]<1?(n[2]=1,s.auto=1):n[2]>l.months[(0|n[1])-1]?(n[2]=31,s.auto=1):n[2].length<2&&(s.auto=1),n.length>3&&(l.timeVoid(n[3],0)&&(s.auto=1),l.timeVoid(n[4],1)&&(s.auto=1),l.timeVoid(n[5],2)&&(s.auto=1)),s.auto?l.creation([n[0],0|n[1],0|n[2]],1):s.value!==l.elem[m.elemv]&&(l.elem[m.elemv]=s.value)}},l.months=[31,null,31,30,31,30,31,31,30,31,30,31],l.viewDate=function(e,t,a){var n=(l.query,{}),s=new Date;e<(0|l.mins[0])&&(e=0|l.mins[0]),e>(0|l.maxs[0])&&(e=0|l.maxs[0]),s.setFullYear(e,t,a),n.ymd=[s.getFullYear(),s.getMonth(),s.getDate()],l.months[1]=l.isleap(n.ymd[0])?29:28,s.setFullYear(n.ymd[0],n.ymd[1],1),n.FDay=s.getDay(),n.PDay=l.months[0===t?11:t-1]-n.FDay+1,n.NDay=1,l.each(m.tds,function(e,t){var a,s=n.ymd[0],i=n.ymd[1]+1;t.className="",e<n.FDay?(t.innerHTML=a=e+n.PDay,l.addClass(t,"laydate_nothis"),1===i&&(s-=1),i=1===i?12:i-1):e>=n.FDay&&e<n.FDay+l.months[n.ymd[1]]?(t.innerHTML=a=e-n.FDay+1,e-n.FDay+1===n.ymd[2]&&(l.addClass(t,m[2]),n.thisDay=t)):(t.innerHTML=a=n.NDay++,l.addClass(t,"laydate_nothis"),12===i&&(s+=1),i=12===i?1:i+1),l.checkVoid(s,i,a)[0]&&l.addClass(t,m[1]),l.options.festival&&l.festival(t,i+"."+a),t.setAttribute("y",s),t.setAttribute("m",i),t.setAttribute("d",a),s=i=a=null}),l.valid=!l.hasClass(n.thisDay,m[1]),l.ymd=n.ymd,m.year.value=l.ymd[0]+"年",m.month.value=l.digit(l.ymd[1]+1)+"月",l.each(m.mms,function(e,t){var a=l.checkVoid(l.ymd[0],1+(0|t.getAttribute("m")));"y"===a[0]||"m"===a[0]?l.addClass(t,m[1]):l.removeClass(t,m[1]),l.removeClass(t,m[2]),a=null}),l.addClass(m.mms[l.ymd[1]],m[2]),n.times=[0|l.inymd[3]||0,0|l.inymd[4]||0,0|l.inymd[5]||0],l.each(new Array(3),function(e){l.hmsin[e].value=l.digit(l.timeVoid(n.times[e],e)?0|l.mins[e+3]:0|n.times[e])}),l[l.valid?"removeClass":"addClass"](m.ok,m[1])},l.festival=function(e,t){var a;switch(t){case"1.1":a="元旦";break;case"3.8":a="妇女";break;case"4.5":a="清明";break;case"5.1":a="劳动";break;case"6.1":a="儿童";break;case"9.10":a="教师";break;case"10.1":a="国庆"}a&&(e.innerHTML=a),a=null},l.viewYears=function(e){var t=l.query,a="";l.each(new Array(14),function(t){a+=7===t?"<li "+(parseInt(m.year.value)===e?'class="'+m[2]+'"':"")+' y="'+e+'">'+e+"年</li>":'<li y="'+(e-7+t)+'">'+(e-7+t)+"年</li>"}),t("#laydate_ys").innerHTML=a,l.each(t("#laydate_ys li"),function(e,t){"y"===l.checkVoid(t.getAttribute("y"))[0]?l.addClass(t,m[1]):l.on(t,"click",function(e){l.stopmp(e).reshow(),l.viewDate(0|this.getAttribute("y"),l.ymd[1],l.ymd[2])})})},l.initDate=function(){var e=(l.query,new Date),t=l.elem[m.elemv].match(/\d+/g)||[];t.length<3&&(t=l.options.start.match(/\d+/g)||[]).length<3&&(t=[e.getFullYear(),e.getMonth()+1,e.getDate()]),l.inymd=t,l.viewDate(t[0],t[1]-1,t[2])},l.iswrite=function(){var e={time:(0,l.query)("#laydate_hms")};l.shde(e.time,!l.options.istime),l.shde(m.oclear,!(!("isclear"in l.options)||l.options.isclear)),l.shde(m.otoday,!(!("istoday"in l.options)||l.options.istoday)),l.shde(m.ok,!(!("issure"in l.options)||l.options.issure))},l.orien=function(e,t){var a,n=l.elem.getBoundingClientRect();e.style.left=n.left+(t?0:l.scroll(1))+"px",a=n.bottom+e.offsetHeight/1.5<=l.winarea()?n.bottom-1:n.top>e.offsetHeight/1.5?n.top-e.offsetHeight+1:l.winarea()-e.offsetHeight,e.style.top=a+(t?0:l.scroll())+"px"},l.follow=function(e){l.options.fixed?(e.style.position="fixed",l.orien(e,1)):(e.style.position="absolute",l.orien(e))},l.viewtb=function(){var e,t=[],a=["日","一","二","三","四","五","六"],n={},s=d[r]("table"),i=d[r]("thead");return i.appendChild(d[r]("tr")),n.creath=function(e){var t=d[r]("th");t.innerHTML=a[e],i[c]("tr")[0].appendChild(t),t=null},l.each(new Array(6),function(a){t.push([]),e=s.insertRow(0),l.each(new Array(7),function(s){t[a][s]=0,0===a&&n.creath(s),e.insertCell(s)})}),s.insertBefore(i,s.children[0]),s.id=s.className="laydate_table",e=t=null,s.outerHTML.toLowerCase()}(),l.view=function(e,t){var a,c=l.query,y={};t=t||e,l.elem=e,l.options=t,l.options.format||(l.options.format=n),l.options.start=l.options.start||"",l.mm=y.mm=[l.options.min||s,l.options.max||i],l.mins=y.mm[0].match(/\d+/g),l.maxs=y.mm[1].match(/\d+/g),m.elemv=/textarea|input/.test(l.elem.tagName.toLocaleLowerCase())?"value":"innerHTML",l.box?l.shde(l.box):(a=d[r]("div"),a.id=m[0],a.className=m[0],a.style.cssText="position: absolute;",a.setAttribute("name","laydate-v"+laydate.v),a.innerHTML=y.html='<div class="laydate_top"><div class="laydate_ym laydate_y" id="laydate_YY"><a class="laydate_choose laydate_chprev laydate_tab"><cite></cite></a><input id="laydate_y" readonly><label></label><a class="laydate_choose laydate_chnext laydate_tab"><cite></cite></a><div class="laydate_yms"><a class="laydate_tab laydate_chtop"><cite></cite></a><ul id="laydate_ys"></ul><a class="laydate_tab laydate_chdown"><cite></cite></a></div></div><div class="laydate_ym laydate_m" id="laydate_MM"><a class="laydate_choose laydate_chprev laydate_tab"><cite></cite></a><input id="laydate_m" readonly><label></label><a class="laydate_choose laydate_chnext laydate_tab"><cite></cite></a><div class="laydate_yms" id="laydate_ms">'+function(){var e="";return l.each(new Array(12),function(t){e+='<span m="'+t+'">'+l.digit(t+1)+"月</span>"}),e}()+"</div></div></div>"+l.viewtb+'<div class="laydate_bottom"><ul id="laydate_hms"><li class="laydate_sj">时间</li><li><input readonly>:</li><li><input readonly>:</li><li><input readonly></li></ul><div class="laydate_time" id="laydate_time"></div><div class="laydate_btn"><a id="laydate_clear">清空</a><a id="laydate_today">今天</a><a id="laydate_ok">确认</a></div>'+(o?'<a href="http://sentsin.com/layui/laydate/" class="laydate_v" target="_blank">laydate-v'+laydate.v+"</a>":"")+"</div>",d.body.appendChild(a),l.box=c("#"+m[0]),l.events(),a=null),l.follow(l.box),t.zIndex?l.box.style.zIndex=t.zIndex:l.removeCssAttr(l.box,"z-index"),l.stopMosup("click",l.box),l.initDate(),l.iswrite(),l.check()},l.reshow=function(){return l.each(l.query("#"+m[0]+" .laydate_show"),function(e,t){l.removeClass(t,"laydate_show")}),this},l.close=function(){l.reshow(),l.shde(l.query("#"+m[0]),1),l.elem=null},l.parse=function(e,t,a){return e=e.concat(t),(a=a||(l.options?l.options.format:n)).replace(/YYYY|MM|DD|hh|mm|ss/g,function(){return e.index=0|++e.index,l.digit(e[e.index])})},l.creation=function(e,t){var a=(l.query,l.hmsin),n=l.parse(e,[a[0].value,a[1].value,a[2].value]);l.elem[m.elemv]=n,t||(l.close(),"function"==typeof l.options.choose&&l.options.choose(n))},l.events=function(){var t=l.query,a={box:"#"+m[0]};l.addClass(d.body,"laydate_body"),m.tds=t("#laydate_table td"),m.mms=t("#laydate_ms span"),m.year=t("#laydate_y"),m.month=t("#laydate_m"),l.each(t(a.box+" .laydate_ym"),function(e,t){l.on(t,"click",function(t){l.stopmp(t).reshow(),l.addClass(this[c]("div")[0],"laydate_show"),e||(a.YY=parseInt(m.year.value),l.viewYears(a.YY))})}),l.on(t(a.box),"click",function(){l.reshow()}),a.tabYear=function(e){0===e?l.ymd[0]--:1===e?l.ymd[0]++:2===e?a.YY-=14:a.YY+=14,2>e?(l.viewDate(l.ymd[0],l.ymd[1],l.ymd[2]),l.reshow()):l.viewYears(a.YY)},l.each(t("#laydate_YY .laydate_tab"),function(e,t){l.on(t,"click",function(t){l.stopmp(t),a.tabYear(e)})}),a.tabMonth=function(e){e?(l.ymd[1]++,12===l.ymd[1]&&(l.ymd[0]++,l.ymd[1]=0)):(l.ymd[1]--,-1===l.ymd[1]&&(l.ymd[0]--,l.ymd[1]=11)),l.viewDate(l.ymd[0],l.ymd[1],l.ymd[2])},l.each(t("#laydate_MM .laydate_tab"),function(e,t){l.on(t,"click",function(t){l.stopmp(t).reshow(),a.tabMonth(e)})}),l.each(t("#laydate_ms span"),function(e,t){l.on(t,"click",function(e){l.stopmp(e).reshow(),l.hasClass(this,m[1])||l.viewDate(l.ymd[0],0|this.getAttribute("m"),l.ymd[2])})}),l.each(t("#laydate_table td"),function(e,t){l.on(t,"click",function(e){l.hasClass(this,m[1])||(l.stopmp(e),l.creation([0|this.getAttribute("y"),0|this.getAttribute("m"),0|this.getAttribute("d")]))})}),m.oclear=t("#laydate_clear"),l.on(m.oclear,"click",function(){l.elem[m.elemv]="",l.close()}),m.otoday=t("#laydate_today"),l.on(m.otoday,"click",function(){l.elem[m.elemv]=laydate.now(0,l.options.format),l.close()}),m.ok=t("#laydate_ok"),l.on(m.ok,"click",function(){l.valid&&l.creation([l.ymd[0],l.ymd[1]+1,l.ymd[2]])}),a.times=t("#laydate_time"),l.hmsin=a.hmsin=t("#laydate_hms input"),a.hmss=["小时","分钟","秒数"],a.hmsarr=[],l.msg=function(e,n){var s='<div class="laydte_hsmtex">'+(n||"提示")+"<span>×</span></div>";"string"==typeof e?(s+="<p>"+e+"</p>",l.shde(t("#"+m[0])),l.removeClass(a.times,"laydate_time1").addClass(a.times,"laydate_msg")):(a.hmsarr[e]?s=a.hmsarr[e]:(s+='<div id="laydate_hmsno" class="laydate_hmsno">',l.each(new Array(0===e?24:60),function(e){s+="<span>"+e+"</span>"}),s+="</div>",a.hmsarr[e]=s),l.removeClass(a.times,"laydate_msg"),l[0===e?"removeClass":"addClass"](a.times,"laydate_time1")),l.addClass(a.times,"laydate_show"),a.times.innerHTML=s},a.hmson=function(e,a){var n=t("#laydate_hmsno span"),s=l.valid?null:1;l.each(n,function(t,n){s?l.addClass(n,m[1]):l.timeVoid(t,a)?l.addClass(n,m[1]):l.on(n,"click",function(){l.hasClass(this,m[1])||(e.value=l.digit(0|this.innerHTML))})}),l.addClass(n[0|e.value],"laydate_click")},l.each(a.hmsin,function(e,t){l.on(t,"click",function(t){l.stopmp(t).reshow(),l.msg(e,a.hmss[e]),a.hmson(this,e)})}),l.on(d,"mouseup",function(){var e=t("#"+m[0]);e&&"none"!==e.style.display&&(l.check()||l.close())}).on(d,"keydown",function(t){13===(t=t||e.event).keyCode&&l.creation([l.ymd[0],l.ymd[1]+1,l.ymd[2]])})},l.init=(l.use("need"),l.use(m[4]+a,m[3]),void(l.skinLink=l.query("#"+m[3]))),laydate.reset=function(){l.box&&l.elem&&l.follow(l.box)},laydate.now=function(e,t){var a=new Date(0|e?function(e){return 864e5>e?+new Date+864e5*e:e}(parseInt(e)):+new Date);return l.parse([a.getFullYear(),a.getMonth()+1,a.getDate()],[a.getHours(),a.getMinutes(),a.getSeconds()],t)},laydate.skin=function(e){l.skinLink.href=l.getPath+m[4]+e+m[5]}}(window);