define("index:widget/subscription/subscription.js",function(t,n,e){var r={init:function(){this.bind()},bind:function(){$("#subscript_sub").on("click",this.subscriptEvent),$("#subscript_email").on("focus",this.errorFadeOut)},errorFadeOut:function(){$(".error-content").fadeOut()},subscriptEvent:function(){var t=$("#subscript_email").val();return r.isEmail(t)?void $.ajax({url:"/subscribe",type:"get",data:{email:t},dataType:"json",beforeSend:function(){$("#subscript_sub").off("click",r.subscriptEvent)},complete:function(){$("#subscript_sub").on("click",r.subscriptEvent)},success:function(t){200!==t.code?($(".error-content .content").text(t.msg),$(".error-content").fadeIn()):$(".form-container").html("订阅成功！").css({border:"1px solid #f9d279","font-size":"12px","background-color":"#fffbf1"})},error:function(){$(".error-content .content").text("网络异常!"),$(".error-content").fadeIn()}}):($(".error-content .content").text("请输入正确的邮箱地址！"),void $(".error-content").fadeIn())},isEmail:function(t){return/^\w+([-+.]\w+)*@\w+([-.]\w+)*\.[a-z]+([-.][a-z]+)*$/.test(t)}};e.exports=r});