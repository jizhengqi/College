<!DOCTYPE html>
<html lang="zh-cn">

<head>
    <meta http-equiv="Content-Language" content="zh-cn">
    <meta http-equiv="Content-Type" content="text/html;charset=utf-8">
    <title> 我的课程
        - 骇客学院学习中心</title>
    <meta name="keywords" content="" />
    <meta name="description" content="" />
    <link rel="shortcut icon" href="img/favicon.ico" />
    <script type="text/javascript">
        window.CDN_BASE = 'https://jiuye-static.jikexueyuan.com/fuwu/';
        window.APP_URL = 'http://xue.jikexueyuan.com/';

    </script>
    <link href="css/simditor.css" rel="stylesheet" type="text/css" />
    <link rel="stylesheet" href="css/reset.css">
    <link rel="stylesheet" href="css/home-centre.css">
    <link rel="stylesheet" href="css/lessonlist.css">
    <script type="text/javascript" src="js/growingio.js?t=1513326254000"></script>
    <script type="text/javascript" src="js/mask.js?t=1513326254000"></script>
    <script type="text/javascript" src="js/jquery.min.js?t=1513326254000"></script>
    <script type="text/javascript" src="js/header.min.js?t=1544581681296"></script>
    <script type="text/javascript" src="js/web_socket.js?t=1513326254000"></script>
    <script type="text/javascript" src="js/websocket.js?t=1513326254000"></script>
    <script type="text/javascript" src="js/vue2.5.13.min.js"></script>
    <script type="text/javascript" src="js/axios0.18.0.min.js"></script>
    <script type="text/javascript" src="js/vue-resource.js"></script>
</head>

<body class="no_header">
    <div id="header_top_notice"></div>
    <div id="jk-header">
        <div class="header">
            <h1>
                <a href="index.html" class="logo">
                    <img src="img/logo.png?t=1513326254000" width="100" alt="骇客学院" />
                </a>
            </h1>
            <nav style="width:490px;">
                <ul>
                        <li>
                            <a href="index.html" class="home">首页</a>
                        </li>
                        <!-- <li class="careerpath">
                            <a href="">VIP</a>
                        </li>
                        <li>
                            <a href="">免费</a>
                        </li> -->
                        <li>
                            <a href="art.html" target="_blank">技术问答</a>
                        </li>
                    </ul>
            </nav>
            <div class="nav-other">
                <div id="y-login">
                    <div class="centerbox" style="display: inline-block;">
                        <a href="ke_doing.html" class="learn-center" title="学习中心"></a>
                    </div>
                    <div class="centerbox" style="display: inline-block;">
                        <a href="" class="message" id="message" title="消息中心">
                            <i class="have" id="have" style="display: none;"></i>
                        </a>
                    </div>
                    <span class="userinfo-login" id="userinfo-login" style="display: inline-block;">
                        <a href="setting_user.html">
                            <img src="https://assets.jikexueyuan.com/user/avtar/default.gif" id="userpoto">
                        </a>
                        <i id="uservip-icon"></i>
                        <div class="slide-submeu user-slide">
                            <a href="ke_doing.html"><i class="learningcenter-icon"></i>学习中心</a>
                            <a href="learn_center.html"><i class="homepage-icon"></i>个人主页</a>
                            <a href="setting_user.html"><i class="set-icon"></i>账号设置</a>
                            <a href="user/logout?path=index"><i class="exit-icon"></i>退出登录</a>
                        </div>
                    </span>
                </div>
                <div id="n-login">
                    <span class="userinfo-notlogin">
                        <a href="Login.html">登录</a><i></i>
                        <a href="Register.html">注册</a>
                    </span>
                </div>
            </div>
        </div>
    </div>
    <div class="container">
        <div class="home-crumb">
            <span><a href="index.html">首页</a></span>
            <span class="crumb-arrow">学习中心</span>
        </div>
        <div class="nav-cont">
            <nav class="nav-block">
                <ul>
                    <li class="person">
                        <i></i>
                        <img id="touxiang" src="img/default.gif" alt="我的头像">
                        <span id="username">jike_3801149</span>
                    </li>
                    <a href="ke_doing.html">
                        <li class="select classhover">
                            <i class=""></i>
                            <span class="">我的课程</span>
                        </li>
                    </a>
                    <a href="userCourse.html">
                        <li class="select employhover">
                            <i class=""></i>
                            <span class="mar-left active-green">我发布的课程</span>
                        </li>
                    </a>
                </ul>
            </nav>
        </div>

        <div class="main-cont" id="app">
            <section class="home-myclass">
                <ul class="navbar">
                    <li><a href="http://xue.jikexueyuan.com/ke/doing" class=" navbar-li-active ">课程</a></li>
                </ul>
                <div class="lesson-card-cont cf">
                    <ul class="lesson-list">
                        <li v-for="c in list">
                            <div class="lessonimg-box">
                                <span class="learn-statu">
                                    学到第1课时
                                </span>
                                <a v-bind:href="'2707.html?c_id='+c.c_id+'&c_name='+c.c_name" target="_blank">
                                    <img src="img/54c99015e1130.jpg" class="lessonimg" v-bind:title="c.c_name" alt="c.c_name">
                                    <div class="lessonplay" style="opacity: 0;">
                                        <i class="playericon"></i>
                                    </div>
                                    <div class="lessonplay" style="opacity: 0;">
                                        <div class="cricle">
                                            <div class="mask"></div>
                                            <div class="left">
                                                <div class="bg"></div>
                                            </div>
                                            <div class="cright">
                                                <div class="bg"></div>
                                            </div>
                                            <div class="text"></div>
                                        </div>
                                    </div>
                                </a>
                            </div>
                            <div class="lesson-infor">
                                <h2 class="lesson-info-h2">
                                    <a v-bind:href="'2707.html?c_id='+c.c_id+'&c_name='+c.c_name" target="_blank">{{c.c_name}}</a>
                                </h2>
                                <p>{{c.c_introduction}}</p>
                                <div class="timeandicon">
                                    <div class="cf">
                                        <dl>
                                            <dd class="mar-b8">
                                                <i class="time-icon"></i><em>3课时 27分钟</em>
                                            </dd>
                                            <dd class="zhongji" style="display:none;">
                                                <i class="xinhao-icon"></i><em>初级</em>
                                            </dd>
                                        </dl>
                                        <em class="learn-number">80887 人学习</em>
                                    </div>
                                    <div class="cf">
                                        <div class="lessonicon-box" style="bottom:8px;">
                                            <a target="_blank" v-bind:href="'2707.html?c_id='+c.c_id+'&c_name='+c.c_name">
                                                <img width="16" src="img/57231d0e06972.png" alt="bootstrap" title="bootstrap" />
                                            </a>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </li>
                    </ul>
                </div>
                <div class="pages-cont">
                    <div class="pages cf"><a href="javascript:;" class="li-page-disable pgFirst">首页</a> <a href="javascript:;" class="li-page-disable pgPrev">上一页</a> <a href="javascript:;" class="li-page-active page-number">1</a> <a href="javascript:;" class="li-page-disable pgPrev">下一页</a> <a href="javascript:;" class="li-page-disable pgFirst">尾页</a></div>
                </div>
            </section>
        </div>
    </div>
    <!--编辑器插件-->
    <script src="js/all.min-1b7dfa0590.js"></script>
    <!--end 编辑器插件-->
    <script type="text/javascript" src="js/TweenMax.min.js"></script>
    <script type="text/javascript" src="js/home-page.js"></script>
    <link rel="stylesheet" href="css/footer.css?t=1513326254000" />
    <script type="text/javascript" src="js/login_register.min.js?t=1513326254000"></script>
    <div id="footer">
        <div class="footer-content">
            <div class="copyright">Copyright © 2013-2018 jikexueyuan.com All Rights Reserved. 京ICP备11018032号 京公网安备11010802013056</div>
        </div>
    </div>
</body>
<script src="/vue/vue2.5.13.min.js"></script>
<script src="/vue/vue-axios/axios0.18.0.min.js"></script>
<script src="/vue/vue-resource/vue-resource.js"></script>
<script type="text/javascript" src="/vue/vue-router/vue-router.js" charset="utf-8"></script>
<script type="text/javascript">
    new Vue({
        el: "#app",
        data: {
            list: [],
            u_name: "",
            u_id: 0
        },
        created: function() {
            this.queryCourse();
            this.showUser();
        },
        methods: {//查询我发布的课程
            queryCourse: function() {
                var url = "/curriculum/queryCurriculum?u_id=1";
                this.$http.post(url).then(function(response) {
                    if (response.status != 200) {
                        alert(response.status);
                        return;
                    }
                    this.list = response.data;
                });
            },
            showUser: function() { //通过cookie查询用户是否处于登陆状态
                var url = "user/queryByUsers";
                var str = this.getCookie("phone");
                var formData = new FormData();
                formData.append("phone", str)
                if (str != "") {
                    this.$http.post(url, formData).then(function(response) {
                        //console.log("data:" + response.data.u_phone);
                    	if (response.data.u_phone == undefined || response.data.u_phone == ""){
                        	$("#y-login").hide();
                            $("#n-login").show();
                        }else if (response.data.u_phone == str) {
                            $("#y-login").show(); //如果查询的用户账号与本地储存的值相等
                            $("#n-login").hide(); //则显示长在登录状态，否则显示离线状态
                            $("#userpoto").attr("src", response.data.u_photo);
                            $("#touxiang").attr("src",response.data.u_photo);
                            $("#username").html(response.data.u_username);
                        } else {
                            $("#y-login").hide();
                            $("#n-login").show();
                        }
                    });
                } else {
                    $("#y-login").hide();
                    $("#n-login").show();
                }        
            },
            getCookie: function(key) {
                var arr1 = document.cookie.split("; ");
                for (var i = 0; i < arr1.length; i++) {
                    var arr2 = arr1[i].split("="); //通过=截断，把name=Jack截断成[name,Jack]数组;
                    if (arr2[0] == key) {
                        return decodeURI(arr2[1]);
                    }
                }
            }
        }
    });

</script>
</html>
